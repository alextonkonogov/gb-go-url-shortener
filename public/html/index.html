{{define "index"}}
{{template "type"}}
<head>
    {{template "meta"}}
    {{template "styles"}}
    <title>url shortener</title>
</head>
<body class="d-flex flex-column h-100">
{{template "navbar"}}
<div class="container mt-5">

    <form action="/short" method="post">
        <div class="input-group mb-3">
            <input type="url" class="form-control" id="longURL" name="longURL" placeholder="Ввести длинную ссылку"
                   pattern="https://.*" required>
            <button type="submit" class="btn btn-outline-success">Получить короткую</button>
        </div>
    </form>

{{if . }}
    {{if .Err}}
    <div class="alert alert-danger" role="alert">Вы ввели невалидную ссылку!</div>
    {{ else }}
    <div class="alert alert-success" role="alert">
        {{range .Content}}
        <div class="mt-3">
            <h6>{{.Title}}</h6>
            <a href="{{.Link}}" target="_blank">{{.Link}}</a>
        </div>
        {{end}}
    </div>
    {{end}}
{{ end }}

</div>

{{template "footer"}}
{{template "scripts"}}
</body>
</html>
{{end}}
